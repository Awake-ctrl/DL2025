{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\DL2025\\\\frontend\\\\src\\\\pages\\\\KernelExplorer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport './KernelExplorer.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst kernels = {\n  identity: {\n    name: 'Identity',\n    matrix: [[0, 0, 0], [0, 1, 0], [0, 0, 0]],\n    description: 'Returns the original image unchanged'\n  },\n  sharpen: {\n    name: 'Sharpen',\n    matrix: [[0, -1, 0], [-1, 5, -1], [0, -1, 0]],\n    description: 'Enhances edges and details'\n  },\n  edge: {\n    name: 'Edge Detection',\n    matrix: [[-1, -1, -1], [-1, 8, -1], [-1, -1, -1]],\n    description: 'Detects edges in the image'\n  },\n  blur: {\n    name: 'Box Blur',\n    matrix: [[1 / 9, 1 / 9, 1 / 9], [1 / 9, 1 / 9, 1 / 9], [1 / 9, 1 / 9, 1 / 9]],\n    description: 'Simple averaging blur'\n  },\n  gaussian: {\n    name: 'Gaussian Blur',\n    matrix: [[1 / 16, 2 / 16, 1 / 16], [2 / 16, 4 / 16, 2 / 16], [1 / 16, 2 / 16, 1 / 16]],\n    description: 'Smoothing with Gaussian distribution'\n  },\n  emboss: {\n    name: 'Emboss',\n    matrix: [[-2, -1, 0], [-1, 1, 1], [0, 1, 2]],\n    description: 'Creates 3D embossed effect'\n  }\n};\nconst KernelExplorer = () => {\n  _s();\n  const canvasRef = useRef();\n  const outputCanvasRef = useRef();\n  const [image, setImage] = useState(null);\n  const [kernel, setKernel] = useState(kernels.identity);\n  const [hoverPosition, setHoverPosition] = useState(null);\n  const [calculationSteps, setCalculationSteps] = useState([]);\n  const [showCalculation, setShowCalculation] = useState(false);\n  const [customKernel, setCustomKernel] = useState([[0, 0, 0], [0, 1, 0], [0, 0, 0]]);\n  const [useCustomKernel, setUseCustomKernel] = useState(false);\n  useEffect(() => {\n    if (image) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n      processImage();\n    }\n  }, [image, kernel, customKernel, useCustomKernel]);\n  const processImage = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    const activeKernel = useCustomKernel ? {\n      matrix: customKernel\n    } : kernel;\n    const result = applyKernel(imgData, activeKernel);\n    outputCanvasRef.current.getContext('2d').putImageData(result, 0, 0);\n  };\n  const applyKernel = (imageData, kernel) => {\n    const {\n      data,\n      width,\n      height\n    } = imageData;\n    const output = new Uint8ClampedArray(data.length);\n    const k = kernel.matrix;\n    const side = k.length;\n    const half = Math.floor(side / 2);\n    for (let y = half; y < height - half; y++) {\n      for (let x = half; x < width - half; x++) {\n        for (let c = 0; c < 3; c++) {\n          let sum = 0;\n          for (let ky = 0; ky < side; ky++) {\n            for (let kx = 0; kx < side; kx++) {\n              const px = x + kx - half;\n              const py = y + ky - half;\n              const index = (py * width + px) * 4 + c;\n              sum += data[index] * k[ky][kx];\n            }\n          }\n          const idx = (y * width + x) * 4 + c;\n          output[idx] = Math.min(Math.max(sum, 0), 255);\n        }\n        output[(y * width + x) * 4 + 3] = 255; // alpha\n      }\n    }\n    return new ImageData(output, width, height);\n  };\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    const img = new Image();\n    img.onload = () => {\n      setImage(img);\n    };\n    img.src = URL.createObjectURL(file);\n  };\n  const handleCanvasHover = (e, isOutput = false) => {\n    if (!image) return;\n    const canvas = isOutput ? outputCanvasRef.current : canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = Math.floor((e.clientX - rect.left) / rect.width * canvas.width);\n    const y = Math.floor((e.clientY - rect.top) / rect.height * canvas.height);\n    setHoverPosition({\n      x,\n      y,\n      isOutput\n    });\n    if (showCalculation && !isOutput) {\n      calculateDotProduct(x, y);\n    }\n  };\n  const calculateDotProduct = (x, y) => {\n    if (!image || x < 1 || y < 1 || x >= canvasRef.current.width - 1 || y >= canvasRef.current.height - 1) {\n      return;\n    }\n    const ctx = canvasRef.current.getContext('2d');\n    const imgData = ctx.getImageData(0, 0, canvasRef.current.width, canvasRef.current.height);\n    const {\n      data\n    } = imgData;\n    const activeKernel = useCustomKernel ? customKernel : kernel.matrix;\n    const steps = [];\n    let total = 0;\n    for (let ky = -1; ky <= 1; ky++) {\n      for (let kx = -1; kx <= 1; kx++) {\n        const px = x + kx;\n        const py = y + ky;\n        const index = (py * canvasRef.current.width + px) * 4;\n        const pixelValue = data[index]; // Using red channel for grayscale calculation\n        const weight = activeKernel[ky + 1][kx + 1];\n        const product = pixelValue * weight;\n        steps.push({\n          pixelPos: {\n            x: px,\n            y: py\n          },\n          pixelValue,\n          weight,\n          product\n        });\n        total += product;\n      }\n    }\n    steps.push({\n      description: `Total = ${steps.map(s => s.product.toFixed(1)).join(' + ')} = ${total.toFixed(1)}`,\n      finalValue: Math.min(Math.max(total, 0), 255)\n    });\n    setCalculationSteps(steps);\n  };\n  const toggleCalculation = () => {\n    setShowCalculation(!showCalculation);\n    if (!showCalculation && hoverPosition && !hoverPosition.isOutput) {\n      calculateDotProduct(hoverPosition.x, hoverPosition.y);\n    } else {\n      setCalculationSteps([]);\n    }\n  };\n  const handleKernelValueChange = (row, col, value) => {\n    const newKernel = [...customKernel];\n    newKernel[row][col] = parseFloat(value) || 0;\n    setCustomKernel(newKernel);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"visualizer-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"CNN Kernel Visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Upload Image:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleImageUpload,\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select Kernel:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => {\n            setKernel(kernels[e.target.value]);\n            setUseCustomKernel(false);\n          },\n          value: Object.keys(kernels).find(key => kernels[key].name === kernel.name),\n          disabled: useCustomKernel,\n          children: Object.keys(kernels).map(key => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: key,\n            children: kernels[key].name\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kernel-description\",\n          children: kernel.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: useCustomKernel,\n            onChange: () => setUseCustomKernel(!useCustomKernel)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), \"Use Custom Kernel\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), useCustomKernel && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-kernel-editor\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Custom Kernel (3\\xD73)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: customKernel.map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: row.map((val, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.1\",\n                  value: val,\n                  onChange: e => handleKernelValueChange(i, j, e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 25\n                }, this)\n              }, j, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 23\n              }, this))\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: processImage,\n          children: \"Apply Custom Kernel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showCalculation,\n            onChange: toggleCalculation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), \"Show Kernel Calculations\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"canvas-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Input Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"canvas-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            width: 400,\n            height: 400,\n            onMouseMove: e => handleCanvasHover(e, false),\n            className: \"canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), hoverPosition && !hoverPosition.isOutput && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-highlight\",\n            style: {\n              left: hoverPosition.x - 15,\n              top: hoverPosition.y - 15,\n              width: 30,\n              height: 30\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Output (After Kernel)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"canvas-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: outputCanvasRef,\n            width: 400,\n            height: 400,\n            onMouseMove: e => handleCanvasHover(e, true),\n            className: \"canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), hoverPosition && !hoverPosition.isOutput && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"output-highlight\",\n            style: {\n              left: hoverPosition.x,\n              top: hoverPosition.y,\n              width: 10,\n              height: 10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), hoverPosition && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-info\",\n      children: !hoverPosition.isOutput ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Affecting Output Area: (\", hoverPosition.x - 1, \"-\", hoverPosition.x + 1, \", \", hoverPosition.y - 1, \"-\", hoverPosition.y + 1, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Input Position: (\", hoverPosition.x, \", \", hoverPosition.y, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Affecting Output Area: (\", hoverPosition.x - 1, \"-\", hoverPosition.x + 1, \", \", hoverPosition.y - 1, \"-\", hoverPosition.y + 1, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Output Position: (\", hoverPosition.x, \", \", hoverPosition.y, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this), showCalculation && hoverPosition && !hoverPosition.isOutput && calculationSteps.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calculation-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Kernel Calculation at (\", hoverPosition.x, \", \", hoverPosition.y, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kernel-matrix\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Kernel Weights:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: (useCustomKernel ? customKernel : kernel.matrix).map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: row.map((val, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n                children: val\n              }, j, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 23\n              }, this))\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculation-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Calculation Steps:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Pixel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\xD7 Weight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"= Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: calculationSteps.slice(0, 9).map((step, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"(\", step.pixelPos.x, \", \", step.pixelPos.y, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: step.pixelValue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: step.weight\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: step.product.toFixed(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), calculationSteps.length > 9 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calculation-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: calculationSteps[9].description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Final Output Value: \", calculationSteps[9].finalValue]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n_s(KernelExplorer, \"h7JoQbDUEu/aJPxDmeM4H3wDdSw=\");\n_c = KernelExplorer;\nexport default KernelExplorer;\nvar _c;\n$RefreshReg$(_c, \"KernelExplorer\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","kernels","identity","name","matrix","description","sharpen","edge","blur","gaussian","emboss","KernelExplorer","_s","canvasRef","outputCanvasRef","image","setImage","kernel","setKernel","hoverPosition","setHoverPosition","calculationSteps","setCalculationSteps","showCalculation","setShowCalculation","customKernel","setCustomKernel","useCustomKernel","setUseCustomKernel","canvas","current","ctx","getContext","drawImage","width","height","processImage","imgData","getImageData","activeKernel","result","applyKernel","putImageData","imageData","data","output","Uint8ClampedArray","length","k","side","half","Math","floor","y","x","c","sum","ky","kx","px","py","index","idx","min","max","ImageData","handleImageUpload","e","file","target","files","img","Image","onload","src","URL","createObjectURL","handleCanvasHover","isOutput","rect","getBoundingClientRect","clientX","left","clientY","top","calculateDotProduct","steps","total","pixelValue","weight","product","push","pixelPos","map","s","toFixed","join","finalValue","toggleCalculation","handleKernelValueChange","row","col","value","newKernel","parseFloat","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","accept","Object","keys","find","key","disabled","checked","i","val","j","step","onClick","ref","onMouseMove","style","slice","_c","$RefreshReg$"],"sources":["D:/projects/DL2025/frontend/src/pages/KernelExplorer.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport './KernelExplorer.css';\r\n\r\nconst kernels = {\r\n  identity: {\r\n    name: 'Identity',\r\n    matrix: [\r\n      [0, 0, 0],\r\n      [0, 1, 0],\r\n      [0, 0, 0],\r\n    ],\r\n    description: 'Returns the original image unchanged'\r\n  },\r\n  sharpen: {\r\n    name: 'Sharpen',\r\n    matrix: [\r\n      [0, -1, 0],\r\n      [-1, 5, -1],\r\n      [0, -1, 0],\r\n    ],\r\n    description: 'Enhances edges and details'\r\n  },\r\n  edge: {\r\n    name: 'Edge Detection',\r\n    matrix: [\r\n      [-1, -1, -1],\r\n      [-1, 8, -1],\r\n      [-1, -1, -1],\r\n    ],\r\n    description: 'Detects edges in the image'\r\n  },\r\n  blur: {\r\n    name: 'Box Blur',\r\n    matrix: [\r\n      [1/9, 1/9, 1/9],\r\n      [1/9, 1/9, 1/9],\r\n      [1/9, 1/9, 1/9],\r\n    ],\r\n    description: 'Simple averaging blur'\r\n  },\r\n  gaussian: {\r\n    name: 'Gaussian Blur',\r\n    matrix: [\r\n      [1/16, 2/16, 1/16],\r\n      [2/16, 4/16, 2/16],\r\n      [1/16, 2/16, 1/16],\r\n    ],\r\n    description: 'Smoothing with Gaussian distribution'\r\n  },\r\n  emboss: {\r\n    name: 'Emboss',\r\n    matrix: [\r\n      [-2, -1, 0],\r\n      [-1, 1, 1],\r\n      [0, 1, 2],\r\n    ],\r\n    description: 'Creates 3D embossed effect'\r\n  }\r\n};\r\n\r\nconst KernelExplorer = () => {\r\n  const canvasRef = useRef();\r\n  const outputCanvasRef = useRef();\r\n  const [image, setImage] = useState(null);\r\n  const [kernel, setKernel] = useState(kernels.identity);\r\n  const [hoverPosition, setHoverPosition] = useState(null);\r\n  const [calculationSteps, setCalculationSteps] = useState([]);\r\n  const [showCalculation, setShowCalculation] = useState(false);\r\n  const [customKernel, setCustomKernel] = useState([\r\n    [0, 0, 0],\r\n    [0, 1, 0],\r\n    [0, 0, 0]\r\n  ]);\r\n  const [useCustomKernel, setUseCustomKernel] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (image) {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n      processImage();\r\n    }\r\n  }, [image, kernel, customKernel, useCustomKernel]);\r\n\r\n  const processImage = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n    const activeKernel = useCustomKernel ? { matrix: customKernel } : kernel;\r\n    const result = applyKernel(imgData, activeKernel);\r\n    outputCanvasRef.current.getContext('2d').putImageData(result, 0, 0);\r\n  };\r\n\r\n  const applyKernel = (imageData, kernel) => {\r\n    const { data, width, height } = imageData;\r\n    const output = new Uint8ClampedArray(data.length);\r\n    const k = kernel.matrix;\r\n    const side = k.length;\r\n    const half = Math.floor(side / 2);\r\n\r\n    for (let y = half; y < height - half; y++) {\r\n      for (let x = half; x < width - half; x++) {\r\n        for (let c = 0; c < 3; c++) {\r\n          let sum = 0;\r\n          for (let ky = 0; ky < side; ky++) {\r\n            for (let kx = 0; kx < side; kx++) {\r\n              const px = x + kx - half;\r\n              const py = y + ky - half;\r\n              const index = (py * width + px) * 4 + c;\r\n              sum += data[index] * k[ky][kx];\r\n            }\r\n          }\r\n          const idx = (y * width + x) * 4 + c;\r\n          output[idx] = Math.min(Math.max(sum, 0), 255);\r\n        }\r\n        output[(y * width + x) * 4 + 3] = 255; // alpha\r\n      }\r\n    }\r\n\r\n    return new ImageData(output, width, height);\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      setImage(img);\r\n    };\r\n    img.src = URL.createObjectURL(file);\r\n  };\r\n\r\n  const handleCanvasHover = (e, isOutput = false) => {\r\n    if (!image) return;\r\n    \r\n    const canvas = isOutput ? outputCanvasRef.current : canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = Math.floor(((e.clientX - rect.left) / rect.width) * canvas.width);\r\n    const y = Math.floor(((e.clientY - rect.top) / rect.height) * canvas.height);\r\n    \r\n    setHoverPosition({ x, y, isOutput });\r\n    \r\n    if (showCalculation && !isOutput) {\r\n      calculateDotProduct(x, y);\r\n    }\r\n  };\r\n\r\n  const calculateDotProduct = (x, y) => {\r\n    if (!image || x < 1 || y < 1 || x >= canvasRef.current.width - 1 || y >= canvasRef.current.height - 1) {\r\n      return;\r\n    }\r\n\r\n    const ctx = canvasRef.current.getContext('2d');\r\n    const imgData = ctx.getImageData(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    const { data } = imgData;\r\n    const activeKernel = useCustomKernel ? customKernel : kernel.matrix;\r\n    const steps = [];\r\n    let total = 0;\r\n\r\n    for (let ky = -1; ky <= 1; ky++) {\r\n      for (let kx = -1; kx <= 1; kx++) {\r\n        const px = x + kx;\r\n        const py = y + ky;\r\n        const index = (py * canvasRef.current.width + px) * 4;\r\n        const pixelValue = data[index]; // Using red channel for grayscale calculation\r\n        const weight = activeKernel[ky + 1][kx + 1];\r\n        const product = pixelValue * weight;\r\n        \r\n        steps.push({\r\n          pixelPos: { x: px, y: py },\r\n          pixelValue,\r\n          weight,\r\n          product\r\n        });\r\n        \r\n        total += product;\r\n      }\r\n    }\r\n\r\n    steps.push({\r\n      description: `Total = ${steps.map(s => s.product.toFixed(1)).join(' + ')} = ${total.toFixed(1)}`,\r\n      finalValue: Math.min(Math.max(total, 0), 255)\r\n    });\r\n\r\n    setCalculationSteps(steps);\r\n  };\r\n\r\n  const toggleCalculation = () => {\r\n    setShowCalculation(!showCalculation);\r\n    if (!showCalculation && hoverPosition && !hoverPosition.isOutput) {\r\n      calculateDotProduct(hoverPosition.x, hoverPosition.y);\r\n    } else {\r\n      setCalculationSteps([]);\r\n    }\r\n  };\r\n\r\n  const handleKernelValueChange = (row, col, value) => {\r\n    const newKernel = [...customKernel];\r\n    newKernel[row][col] = parseFloat(value) || 0;\r\n    setCustomKernel(newKernel);\r\n  };\r\n\r\n  return (\r\n    <div className=\"visualizer-container\">\r\n      <h2>CNN Kernel Visualizer</h2>\r\n      \r\n      <div className=\"controls\">\r\n        <div className=\"control-group\">\r\n          <label>Upload Image:</label>\r\n          <input type=\"file\" onChange={handleImageUpload} accept=\"image/*\" />\r\n        </div>\r\n        \r\n        <div className=\"control-group\">\r\n          <label>Select Kernel:</label>\r\n          <select \r\n            onChange={(e) => {\r\n              setKernel(kernels[e.target.value]);\r\n              setUseCustomKernel(false);\r\n            }}\r\n            value={Object.keys(kernels).find(key => kernels[key].name === kernel.name)}\r\n            disabled={useCustomKernel}\r\n          >\r\n            {Object.keys(kernels).map((key) => (\r\n              <option value={key} key={key}>\r\n                {kernels[key].name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div className=\"kernel-description\">{kernel.description}</div>\r\n        </div>\r\n        \r\n        <div className=\"control-group\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              checked={useCustomKernel}\r\n              onChange={() => setUseCustomKernel(!useCustomKernel)}\r\n            />\r\n            Use Custom Kernel\r\n          </label>\r\n        </div>\r\n\r\n        {useCustomKernel && (\r\n          <div className=\"custom-kernel-editor\">\r\n            <h4>Custom Kernel (3×3)</h4>\r\n            <table>\r\n              <tbody>\r\n                {customKernel.map((row, i) => (\r\n                  <tr key={i}>\r\n                    {row.map((val, j) => (\r\n                      <td key={j}>\r\n                        <input\r\n                          type=\"number\"\r\n                          step=\"0.1\"\r\n                          value={val}\r\n                          onChange={(e) => handleKernelValueChange(i, j, e.target.value)}\r\n                        />\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            <button onClick={processImage}>Apply Custom Kernel</button>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"control-group\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              checked={showCalculation}\r\n              onChange={toggleCalculation}\r\n            />\r\n            Show Kernel Calculations\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"canvas-grid\">\r\n        <div className=\"canvas-container\">\r\n          <h3>Input Image</h3>\r\n          <div className=\"canvas-wrapper\">\r\n            <canvas\r\n              ref={canvasRef}\r\n              width={400}\r\n              height={400}\r\n              onMouseMove={(e) => handleCanvasHover(e, false)}\r\n              className=\"canvas\"\r\n            />\r\n            {hoverPosition && !hoverPosition.isOutput && (\r\n              <div \r\n                className=\"input-highlight\"\r\n                style={{\r\n                  left: hoverPosition.x - 15,\r\n                  top: hoverPosition.y - 15,\r\n                  width: 30,\r\n                  height: 30,\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"canvas-container\">\r\n          <h3>Output (After Kernel)</h3>\r\n          <div className=\"canvas-wrapper\">\r\n            <canvas\r\n              ref={outputCanvasRef}\r\n              width={400}\r\n              height={400}\r\n              onMouseMove={(e) => handleCanvasHover(e, true)}\r\n              className=\"canvas\"\r\n            />\r\n            {hoverPosition && !hoverPosition.isOutput && (\r\n              <div \r\n                className=\"output-highlight\"\r\n                style={{\r\n                  left: hoverPosition.x ,\r\n                  top: hoverPosition.y,\r\n                  width: 10,\r\n                  height: 10,\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {hoverPosition && (\r\n        <div className=\"position-info\">\r\n          {!hoverPosition.isOutput ? (\r\n            <>\r\n              <p>Affecting Output Area: ({hoverPosition.x-1}-{hoverPosition.x+1}, {hoverPosition.y-1}-{hoverPosition.y+1})</p>\r\n              \r\n              <p>Input Position: ({hoverPosition.x}, {hoverPosition.y})</p>\r\n              <p>Affecting Output Area: ({hoverPosition.x-1}-{hoverPosition.x+1}, {hoverPosition.y-1}-{hoverPosition.y+1})</p>\r\n            </>\r\n          ) : (\r\n            <p>Output Position: ({hoverPosition.x}, {hoverPosition.y})</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {showCalculation && hoverPosition && !hoverPosition.isOutput && calculationSteps.length > 0 && (\r\n        <div className=\"calculation-panel\">\r\n          <h3>Kernel Calculation at ({hoverPosition.x}, {hoverPosition.y})</h3>\r\n          \r\n          <div className=\"kernel-matrix\">\r\n            <h4>Kernel Weights:</h4>\r\n            <table>\r\n              <tbody>\r\n                {(useCustomKernel ? customKernel : kernel.matrix).map((row, i) => (\r\n                  <tr key={i}>\r\n                    {row.map((val, j) => (\r\n                      <td key={j}>{val}</td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          \r\n          <div className=\"calculation-steps\">\r\n            <h4>Calculation Steps:</h4>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Pixel</th>\r\n                  <th>Value</th>\r\n                  <th>× Weight</th>\r\n                  <th>= Product</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {calculationSteps.slice(0, 9).map((step, i) => (\r\n                  <tr key={i}>\r\n                    <td>({step.pixelPos.x}, {step.pixelPos.y})</td>\r\n                    <td>{step.pixelValue}</td>\r\n                    <td>{step.weight}</td>\r\n                    <td>{step.product.toFixed(1)}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            \r\n            {calculationSteps.length > 9 && (\r\n              <div className=\"calculation-summary\">\r\n                <p>{calculationSteps[9].description}</p>\r\n                <p>Final Output Value: {calculationSteps[9].finalValue}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default KernelExplorer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}