{"ast":null,"code":"import { __rest, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport React, { forwardRef, useRef, useId, useState, useEffect } from 'react';\nimport classNames from '../../_virtual/index.js';\nimport PropTypes from 'prop-types';\nimport { CConditionalPortal } from '../conditional-portal/CConditionalPortal.js';\nimport { useForkedRef } from '../../hooks/useForkedRef.js';\nimport { usePopper } from '../../hooks/usePopper.js';\nimport { triggerPropType, fallbackPlacementsPropType } from '../../props.js';\nimport executeAfterTransition from '../../utils/executeAfterTransition.js';\nimport getRTLPlacement from '../../utils/getRTLPlacement.js';\nvar CTooltip = forwardRef(function (_a, ref) {\n  var children = _a.children,\n    _b = _a.animation,\n    animation = _b === undefined ? true : _b,\n    className = _a.className,\n    container = _a.container,\n    content = _a.content,\n    _c = _a.delay,\n    delay = _c === undefined ? 0 : _c,\n    _d = _a.fallbackPlacements,\n    fallbackPlacements = _d === undefined ? ['top', 'right', 'bottom', 'left'] : _d,\n    _e = _a.offset,\n    offset = _e === undefined ? [0, 6] : _e,\n    onHide = _a.onHide,\n    onShow = _a.onShow,\n    _f = _a.placement,\n    placement = _f === undefined ? 'top' : _f,\n    popperConfig = _a.popperConfig,\n    _g = _a.trigger,\n    trigger = _g === undefined ? ['hover', 'focus'] : _g,\n    visible = _a.visible,\n    rest = __rest(_a, [\"children\", \"animation\", \"className\", \"container\", \"content\", \"delay\", \"fallbackPlacements\", \"offset\", \"onHide\", \"onShow\", \"placement\", \"popperConfig\", \"trigger\", \"visible\"]);\n  var tooltipRef = useRef(null);\n  var togglerRef = useRef(null);\n  var forkedRef = useForkedRef(ref, tooltipRef);\n  var id = \"tooltip\".concat(useId());\n  var _h = useState(false),\n    mounted = _h[0],\n    setMounted = _h[1];\n  var _j = useState(visible),\n    _visible = _j[0],\n    setVisible = _j[1];\n  var _k = usePopper(),\n    initPopper = _k.initPopper,\n    destroyPopper = _k.destroyPopper,\n    updatePopper = _k.updatePopper;\n  var _delay = typeof delay === 'number' ? {\n    show: delay,\n    hide: delay\n  } : delay;\n  var defaultPopperConfig = {\n    modifiers: [{\n      name: 'arrow',\n      options: {\n        element: '.tooltip-arrow'\n      }\n    }, {\n      name: 'flip',\n      options: {\n        fallbackPlacements: fallbackPlacements\n      }\n    }, {\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }],\n    placement: getRTLPlacement(placement, togglerRef.current)\n  };\n  var computedPopperConfig = __assign(__assign({}, defaultPopperConfig), typeof popperConfig === 'function' ? popperConfig(defaultPopperConfig) : popperConfig);\n  useEffect(function () {\n    if (visible) {\n      handleShow();\n      return;\n    }\n    handleHide();\n  }, [visible]);\n  useEffect(function () {\n    if (mounted && togglerRef.current && tooltipRef.current) {\n      initPopper(togglerRef.current, tooltipRef.current, computedPopperConfig);\n      setTimeout(function () {\n        setVisible(true);\n      }, _delay.show);\n      return;\n    }\n    if (!mounted && togglerRef.current && tooltipRef.current) {\n      destroyPopper();\n    }\n  }, [mounted]);\n  useEffect(function () {\n    if (!_visible && togglerRef.current && tooltipRef.current) {\n      executeAfterTransition(function () {\n        setMounted(false);\n      }, tooltipRef.current);\n    }\n  }, [_visible]);\n  var handleShow = function () {\n    setMounted(true);\n    if (onShow) {\n      onShow();\n    }\n  };\n  var handleHide = function () {\n    setTimeout(function () {\n      setVisible(false);\n      if (onHide) {\n        onHide();\n      }\n    }, _delay.hide);\n  };\n  useEffect(function () {\n    updatePopper();\n  }, [content]);\n  return React.createElement(React.Fragment, null, React.cloneElement(children, __assign(__assign(__assign(__assign(__assign({}, _visible && {\n    'aria-describedby': id\n  }), {\n    ref: togglerRef\n  }), (trigger === 'click' || trigger.includes('click')) && {\n    onClick: function () {\n      return _visible ? handleHide() : handleShow();\n    }\n  }), (trigger === 'focus' || trigger.includes('focus')) && {\n    onFocus: function () {\n      return handleShow();\n    },\n    onBlur: function () {\n      return handleHide();\n    }\n  }), (trigger === 'hover' || trigger.includes('hover')) && {\n    onMouseEnter: function () {\n      return handleShow();\n    },\n    onMouseLeave: function () {\n      return handleHide();\n    }\n  })), React.createElement(CConditionalPortal, {\n    container: container,\n    portal: true\n  }, mounted && React.createElement(\"div\", __assign({\n    className: classNames('tooltip', 'bs-tooltip-auto', {\n      fade: animation,\n      show: _visible\n    }, className),\n    id: id,\n    ref: forkedRef,\n    role: \"tooltip\"\n  }, rest), React.createElement(\"div\", {\n    className: \"tooltip-arrow\"\n  }), React.createElement(\"div\", {\n    className: \"tooltip-inner\"\n  }, content))));\n});\nCTooltip.propTypes = {\n  animation: PropTypes.bool,\n  children: PropTypes.node,\n  container: PropTypes.any,\n  content: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  delay: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    show: PropTypes.number.isRequired,\n    hide: PropTypes.number.isRequired\n  })]),\n  fallbackPlacements: fallbackPlacementsPropType,\n  offset: PropTypes.any,\n  // TODO: find good proptype\n  onHide: PropTypes.func,\n  onShow: PropTypes.func,\n  placement: PropTypes.oneOf(['auto', 'top', 'right', 'bottom', 'left']),\n  popperConfig: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  trigger: triggerPropType,\n  visible: PropTypes.bool\n};\nCTooltip.displayName = 'CTooltip';\nexport { CTooltip };","map":{"version":3,"names":["CTooltip","forwardRef","_a","ref","children","_b","animation","undefined","className","container","content","_c","delay","_d","fallbackPlacements","_e","offset","onHide","onShow","_f","placement","popperConfig","_g","trigger","visible","rest","__rest","tooltipRef","useRef","togglerRef","forkedRef","useForkedRef","id","concat","useId","_h","useState","mounted","setMounted","_j","_visible","setVisible","_k","usePopper","initPopper","destroyPopper","updatePopper","_delay","show","hide","defaultPopperConfig","modifiers","name","options","element","getRTLPlacement","current","computedPopperConfig","__assign","useEffect","handleShow","handleHide","setTimeout","executeAfterTransition","React","createElement","Fragment","cloneElement","includes","onClick","onFocus","onBlur","onMouseEnter","onMouseLeave","CConditionalPortal","portal","classNames","fade","role","propTypes","PropTypes","bool","node","any","oneOfType","string","number","shape","isRequired","fallbackPlacementsPropType","func","oneOf","object","triggerPropType","displayName"],"sources":["../../../../src/components/tooltip/CTooltip.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}